(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f92c33c"],{1351:function(t,e,s){},2974:function(t,e,s){"use strict";s.r(e);s("7f7f");var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pt-4 pb-5"},[e("div",{staticClass:"container"},[e("section",{staticClass:"row text-center"},[t._m(0),e("div",{staticClass:"col-md-4 col-sm-12 col-lg-4"},[t.order.is_paid?e("div",{staticClass:"alert alert-light custom-alert alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          2.金流付款\n        ")]):e("div",{staticClass:"alert alert-primary alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          2.金流付款\n        ")])]),e("div",{staticClass:"col-md-4 col-sm-12 col-lg-4"},[t.order.is_paid?e("div",{staticClass:"alert alert-primary alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          3.完成\n        ")]):e("div",{staticClass:"alert alert-light custom-alert alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          3.完成\n        ")])])]),e("div",{staticClass:"mb-5 mt-4 row justify-content-center"},[e("div",{staticClass:"card col-md-6 col-lg-6 col-sm-6 shadow mx-3"},[e("form",{staticClass:"text-break",on:{submit:function(e){return e.preventDefault(),t.payOrder.apply(null,arguments)}}},[e("table",{staticClass:"table p-5"},[e("tbody",[e("tr",[e("th",{staticClass:"border-0"},[t._v("下單日期")]),e("td",{staticClass:"border-0"},[t._v(t._s(t._f("date")(t.order.create_at)))])]),e("tr",[e("th",[t._v("訂單編號")]),e("td",[t._v(t._s(t.order.id))])]),e("tr",[e("th",{attrs:{width:"100"}},[t._v("電子郵件")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",{staticClass:"text-nowrap",attrs:{width:"120"}},[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("訂單金額")]),e("td",[t._v(t._s(t._f("currency")(t.order.total)))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-center rounded"},[e("button",{staticClass:"btn btn-danger mt-n3 mb-3"},[t._v("確認付款去")])]):t._e()])])])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-4 col-lg-4 col-sm-12"},[e("div",{staticClass:"alert alert-light custom-alert alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          1.輸入訂單資料\n        ")])])}],o={data:function(){return{orderId:"",order:{user:{},products:[]}}},methods:{getOneOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("2021_03_23_vue_project","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){if(e.data.success)t.order=e.data.order;else{var s="讀取訂單失敗 !!";t.$store.dispatch("updateMessage",{message:s,status:"danger"})}t.$store.dispatch("updateLoading",!1)}))},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("2021_03_23_vue_project","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(e).then((function(e){var s=e.data.message;e.data.success?(t.getOneOrder(),t.$store.dispatch("updateMessage",{message:s})):t.$store.dispatch("updateMessage",{message:s,status:"danger"}),t.$store.dispatch("updateLoading",!1)}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOneOrder()}},d=o,c=(s("9ea3"),s("2877")),i=Object(c["a"])(d,r,a,!1,null,null,null);e["default"]=i.exports},"7f7f":function(t,e,s){var r=s("86cc").f,a=Function.prototype,o=/^\s*function ([^ (]*)/,d="name";d in a||s("9e1e")&&r(a,d,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"9ea3":function(t,e,s){"use strict";s("1351")}}]);
//# sourceMappingURL=chunk-5f92c33c.8d3cfd1f.js.map