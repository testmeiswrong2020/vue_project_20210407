(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-198bd666"],{2974:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pt-4 pb-5"},[s("div",{staticClass:"container "},[s("section",{staticClass:"row text-center"},[t._m(0),s("div",{staticClass:"col-md-4 col-sm-12"},[t.order.is_paid?s("div",{staticClass:"alert  alert-light custom-alert  alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          2.金流付款\n        ")]):s("div",{staticClass:"alert alert-primary alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          2.金流付款\n        ")])]),s("div",{staticClass:"col-md-4 col-sm-12"},[t.order.is_paid?s("div",{staticClass:"alert alert-primary alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          3.完成\n        ")]):s("div",{staticClass:"alert alert-light custom-alert alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          3.完成\n        ")])])]),s("div",{staticClass:"mb-5 mt-4 row justify-content-center"},[s("div",{staticClass:"card col-md-6 shadow mx-3"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[s("table",{staticClass:"table p-5"},[s("tbody",[s("tr",[s("th",{staticClass:"border-0 "},[t._v("下單日期")]),s("td",{staticClass:"border-0"},[t._v(t._s(t._f("date")(t.order.create_at)))])]),s("tr",[s("th",[t._v("訂單編號")]),s("td",[t._v(t._s(t.order.id))])]),s("tr",[s("th",{attrs:{width:"100"}},[t._v("電子郵件")]),s("td",[t._v(t._s(t.order.user.email))])]),s("tr",[s("th",[t._v("姓名")]),s("td",[t._v(t._s(t.order.user.name))])]),s("tr",[s("th",{staticClass:"text-nowrap",attrs:{width:"120"}},[t._v("收件人電話")]),s("td",[t._v(t._s(t.order.user.tel))])]),s("tr",[s("th",[t._v("收件人地址")]),s("td",[t._v(t._s(t.order.user.address))])]),s("tr",[s("th",[t._v("訂單金額")]),s("td",[t._v(t._s(t._f("currency")(t.order.total)))])]),s("tr",[s("th",[t._v("付款狀態")]),s("td",[t.order.is_paid?s("span",{staticClass:"text-success"},[t._v("付款完成")]):s("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?s("div",{staticClass:"text-center rounded"},[s("button",{staticClass:"btn btn-danger mt-n3 mb-3"},[t._v("確認付款去")])]):t._e()])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-light custom-alert alert-rounded mb-2",attrs:{role:"alert"}},[t._v("\n          1.輸入訂單資料\n        ")])])}],d=(s("1157"),{data:function(){return{orderId:"",order:{user:{},products:[]}}},methods:{getOneOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("2021_03_23_vue_project","/order/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.get(e).then((function(e){if(e.data.success)t.order=e.data.order;else{var s="讀取訂單失敗 !!";t.$store.dispatch("updateMessage",{message:s,status:"danger"})}t.$store.dispatch("updateLoading",!1)}))},payOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("2021_03_23_vue_project","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),this.$http.post(e).then((function(e){var s=e.data.message;e.data.success?(t.getOneOrder(),t.$store.dispatch("updateMessage",{message:s})):t.$store.dispatch("updateMessage",{message:s,status:"danger"}),t.$store.dispatch("updateLoading",!1)}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOneOrder()}}),o=d,c=(s("4bb9"),s("2877")),i=Object(c["a"])(o,r,a,!1,null,null,null);e["default"]=i.exports},"2c51":function(t,e,s){},"4bb9":function(t,e,s){"use strict";s("2c51")}}]);
//# sourceMappingURL=chunk-198bd666.4407d9b2.js.map