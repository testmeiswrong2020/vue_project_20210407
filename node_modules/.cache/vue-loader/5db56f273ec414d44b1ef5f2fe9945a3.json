{"remainingRequest":"C:\\Users\\ME\\Documents\\vue_project_20210404\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ME\\Documents\\vue_project_20210404\\src\\views\\CustomerOrder.vue?vue&type=template&id=0ad81246&","dependencies":[{"path":"C:\\Users\\ME\\Documents\\vue_project_20210404\\src\\views\\CustomerOrder.vue","mtime":1617381129379},{"path":"C:\\Users\\ME\\Documents\\vue_project_20210404\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ME\\Documents\\vue_project_20210404\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\ME\\Documents\\vue_project_20210404\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ME\\Documents\\vue_project_20210404\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <loading :active.sync=\"isLoading\"></loading>\n  <div class=\"row mt-4\">\n    <div class=\"col-md-4 mb-4\" v-for=\"item in products\" :key=\"item.id\">\n      <div class=\"card border-0 shadow-sm\">\n        <div\n          style=\"\n            height: 150px;\n            background-size: cover;\n            background-position: center;\n          \"\n          :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n        >\n          <!--ES6寫法插入圖片-->\n        </div>\n        <div class=\"card-body\">\n          <span class=\"badge badge-secondary float-right ml-2\">{{\n            item.category\n          }}</span>\n          <h5 class=\"card-title\">\n            <a href=\"#\" class=\"text-dark\">{{ item.title }}</a>\n          </h5>\n          <p class=\"card-text\">{{ item.content }}</p>\n          <div class=\"d-flex justify-content-between align-items-baseline\">\n            <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }}</div>\n            <del class=\"h6\" v-if=\"item.price\">{{ item.origin_price }}</del>\n            <div class=\"h5\" v-if=\"item.price\">{{ item.price }}</div>\n          </div>\n        </div>\n        <div class=\"card-footer d-flex\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary btn-sm\"\n            @click=\"getProduct(item.id)\"\n          >\n            <i\n              class=\"fas fa-spinner fa-spin\"\n              v-if=\"status.loadingItem === item.id\"\n            ></i>\n            查看更多\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-danger btn-sm ml-auto\"\n            @click=\"addToCart(item.id)\"\n          >\n            <i\n              class=\"fas fa-spinner fa-spin\"\n              v-if=\"status.loadingItem === item.id\"\n            ></i>\n            加到購物車\n          </button>\n        </div>\n      </div>\n    </div>\n    <!--pagination-start-->\n    <div class=\"col-md-12\">\n      <nav aria-label=\"...\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\" :class=\"{ disabled: !pagination.has_pre }\">\n            <span\n              class=\"page-link\"\n              @click.prevent=\"getProducts(pagination.current_page - 1)\"\n              >Previous</span\n            >\n          </li>\n          <li\n            class=\"page-item\"\n            :class=\"{ active: pagination.current_page === page }\"\n            v-for=\"page in pagination.total_pages\"\n            :key=\"page\"\n          >\n            <a\n              class=\"page-link\"\n              href=\"#\"\n              @click.prevent=\"getProducts(page)\"\n              >{{ page }}</a\n            >\n          </li>\n          <li class=\"page-item\" :class=\"{ disabled: !pagination.has_next }\">\n            <a\n              class=\"page-link\"\n              href=\"#\"\n              @click.prevent=\"getProducts(pagination.current_page + 1)\"\n              >Next</a\n            >\n          </li>\n        </ul>\n      </nav>\n    </div>\n    <!--pagination-end-->\n  </div>\n  <!--cart-->\n  <div class=\"row\">\n    <div class=\"col-md-3\"></div>\n    <div class=\"col-md-6\">\n      <table class=\"table\">\n        <thead>\n          <th></th>\n          <th>品名</th>\n          <th>數量</th>\n          <th>單價</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n            <td class=\"align-middle\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"removeCartItem(item.id)\"\n              >\n                <i class=\"far fa-trash-alt\"></i>\n              </button>\n            </td>\n            <td class=\"align-middle\">\n              {{ item.product.title }}\n              <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\n            </td>\n            <td class=\"align-middle\">\n              {{ item.qty }}/{{ item.product.unit }}\n            </td>\n            <td class=\"align-middle text-right\">\n              {{ item.final_total | currency }}\n            </td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"text-right\">總計</td>\n            <td class=\"text-right\">{{ cart.total | currency }}</td>\n          </tr>\n          <tr v-if=\"cart.final_total != cart.total\">\n            <td colspan=\"3\" class=\"text-right text-success\">折扣價</td>\n            <td class=\"text-right text-success\">\n              {{ cart.final_total | currency }}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div class=\"input-group mb-3 input-group-sm\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"coupon_code\"\n          placeholder=\"請輸入優惠碼\"\n        />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-outline-secondary\"\n            type=\"button\"\n            @click=\"addCouponCode\"\n          >\n            套用優惠碼\n          </button>\n        </div>\n      </div>\n\n      <!---form--start-->\n      <div class=\"mt-4\">\n        <validation-observer v-slot=\"{ invalid }\">\n          <form @submit.prevent=\"createOrder\" class=\"needs-validation\">\n            <validation-provider\n              rules=\"required|email\"\n              v-slot=\"{ errors, classes }\"\n            >\n              <div class=\"form-group\">\n                <label for=\"useremail\">電子信箱</label>\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  name=\"email\"\n                  id=\"useremail\"\n                  :class=\"classes\"\n                  v-model=\"form.user.email\"\n                  placeholder=\"請輸入 Email\"\n                  required\n                />\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n              </div>\n            </validation-provider>\n            <validation-provider\n              rules=\"required\"\n              v-slot=\"{ errors, classes }\"\n            >\n              <div class=\"form-group\">\n                <label for=\"username\">收件人姓名</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"name\"\n                  id=\"username\"\n                  :class=\"classes\"\n                  v-model=\"form.user.name\"\n                  placeholder=\"輸入姓名\"\n                />\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </div>\n            </validation-provider>\n            <validation-provider\n              rules=\"required\"\n              v-slot=\"{ errors, classes }\"\n            >\n              <div class=\"form-group\">\n                <label for=\"usertel\">收件人電話</label>\n                <input\n                  type=\"tel\"\n                  class=\"form-control\"\n                  id=\"usertel\"\n                  :class=\"classes\"\n                  v-model=\"form.user.tel\"\n                  placeholder=\"請輸入電話\"\n                />\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </div>\n            </validation-provider>\n            <validation-provider\n              rules=\"required\"\n              v-slot=\"{ errors, classes }\"\n            >\n              <div class=\"form-group\">\n                <label for=\"useraddress\">收件人地址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"address\"\n                  :class=\"classes\"\n                  id=\"useraddress\"\n                  v-model=\"form.user.address\"\n                  placeholder=\"請輸入地址\"\n                />\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </div>\n\n              <!--地址欄位不得留空-->\n            </validation-provider>\n        \n              <div class=\"form-group\">\n                <label for=\"comment\">留言</label>\n                <textarea\n                  id=\"comment\"\n                  class=\"form-control\"\n                  cols=\"30\"\n                  rows=\"10\"\n                  v-model=\"form.message\"\n                ></textarea>\n                <span class=\"text-danger\"></span>\n              </div>\n\n            <div class=\"text-right\">\n              <button class=\"btn btn-danger\" :disabled=\"invalid\">\n                送出訂單\n              </button>\n            </div>\n          </form>\n        </validation-observer>\n      </div>\n    </div>\n    <div class=\"col-md-3\"></div>\n  </div>\n  <!---form--end-->\n\n  <!---product detail modal-->\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            {{ product.title }}\n          </h5>\n          <button\n            type=\"button\"\n            class=\"close\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <img :src=\"product.imageUrl\" class=\"img-fluid\" alt=\"\" />\n          <blockquote class=\"blockquote mt-3\">\n            <p class=\"mb-0\">{{ product.content }}</p>\n            <footer class=\"blockquote-footer text-right\">\n              {{ product.description }}\n            </footer>\n          </blockquote>\n          <div class=\"d-flex justify-content-between align-items-baseline\">\n            <div class=\"h4\" v-if=\"!product.price\">\n              {{ product.origin_price }} 元\n            </div>\n            <del class=\"h6\" v-if=\"product.price\"\n              >原價 {{ product.origin_price }} 元</del\n            >\n            <div class=\"h4\" v-if=\"product.price\">\n              現在只要 {{ product.price }} 元\n            </div>\n          </div>\n          <select name=\"\" class=\"form-control mt-3\" v-model=\"product.num\">\n            <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\n              <!--num為此商品數量，unit為單位-->\n              選購 {{ num }} {{ product.unit }}\n            </option>\n          </select>\n        </div>\n        <div class=\"modal-footer\">\n          <div class=\"text-muted text-nowrap mr-3\">\n            小計 <strong>{{ product.num * product.price }}</strong> 元\n          </div>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"addToCart(product.id, product.num)\"\n          >\n            <i\n              class=\"fas fa-spinner fa-spin\"\n              v-if=\"product.id === status.loadingItem\"\n            ></i>\n            加到購物車\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",null]}